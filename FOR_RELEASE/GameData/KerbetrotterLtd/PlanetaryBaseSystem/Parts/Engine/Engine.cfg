PART
{
    //A structural part with adapter for landing legs as well as two engines to allow landing
    
    //---Metadata---
    name = KKAOSS_engine_g
    module = Part
    author = Nils277    
    
    //---Visual---
    MODEL
    {
        model = KerbetrotterLtd/PlanetaryBaseSystem/Assets/Parts/engine_g
    }    
    rescaleFactor = 1.0
    
    //---Nodes and Attachment---
    attachRules = 1,0,1,1,0
    node_stack_front = 0, 0.3125, 0, 0, 1, 0, 1
    node_stack_back = 0, -0.3125, 0, 0, -1, 0, 1
    node_stack_top = 0, 0, -0.73494, 0, 0, -1, 0
    node_stack_bottom = 0, 0, 0.6266, 0, 0, 1, 0
    
    NODE {
        name = node_stack_leg1
        transform = node_leg1
        size = 0
        method = FIXED_JOINT
    }
    
    NODE {
        name = node_stack_leg2
        transform = node_leg2
        size = 0
        method = FIXED_JOINT
    }   
    
    //---Effects---
    EFFECTS
	{
		running
		{
			AUDIO
			{
				channel = Ship
				clip = sound_rocket_mini
				volume = 0.0 0.0
				volume = 1.0 1.0
				pitch = 0.0 0.75
				pitch = 1.0 0.95
				loop = true
			}      
            MODEL_MULTI_PARTICLE
			{
				//modelName = Squad/FX/LES_Thruster
                modelName = Squad/FX/shockExhaust_blue_small
				transformName = ThrustPoint
				emission = 0.0 0.0
				emission = 1.0 1.0
				speed = 0.0 0.35
				speed = 1.0 0.7
			}        
		}
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_medium
				loop = false
			}
		}
		disengage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_soft
				loop = false
			}
		}
    }
    stagingIcon = LIQUID_ENGINE
    
    //---Costs & Tech---
    TechRequired = advLanding
    entryCost = 8900
    cost = 970    
    
    //---Descriptions---
    category = Propulsion
    subcategory = 0
    title = #LOC_KPBS.landingengine.title
    manufacturer = #LOC_KPBS.agency
    description = #LOC_KPBS.landingengine.description    
    tags = #LOC_KPBS.landingengine.tags    
    
    //---Physical---
    mass = 0.3
    heatConductivity = 0.06
    thermalMassModifier = 0.5
    breakingForce = 200
	breakingTorque = 200
    crashTolerance = 15
    maxTemp = 2000
    fuelCrossFeed = True
    bulkheadProfiles = PlanetaryBase
    
    //---Drag---
    dragModelType = default
    maximum_drag = 0.2
    minimum_drag = 0.2
    angularDrag = 1   

    //---Modules---
	MODULE
	{
		name = ModuleEnginesFX
		thrustVectorTransformName = ThrustPoint
		exhaustDamage = True
		ignitionThreshold = 0.1
		minThrust = 0
		maxThrust = 75
		heatProduction = 750
		fxOffset = 0, 0, -0.5
		EngineType = LiquidFuel
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 0.9
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.1
		}
		atmosphereCurve
		{
			key = 0 320
			key = 1 280
			key = 6 0.001
		}
	}
    
	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = Nozzle
		gimbalRange = 2
	}    
    
    //---Resources---
    RESOURCE
	{
		name = LiquidFuel
		amount = 45
		maxAmount = 45
	}
    
	RESOURCE
	{
		name = Oxidizer
		amount = 55
		maxAmount = 55
	}
}
